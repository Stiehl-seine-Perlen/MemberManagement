<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:bpsim="http://www.bpsim.org/schemas/1.0" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:drools="http://www.jboss.org/drools" id="_CC18cLuCEDuSNO79ekp_aA" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd http://www.jboss.org/drools drools.xsd http://www.bpsim.org/schemas/1.0 bpsim.xsd http://www.omg.org/spec/DD/20100524/DC DC.xsd http://www.omg.org/spec/DD/20100524/DI DI.xsd " exporter="jBPM Process Modeler" exporterVersion="2.0" targetNamespace="http://www.omg.org/bpmn20">
  <bpmn2:itemDefinition id="_validItem" structureRef="Boolean"/>
  <bpmn2:itemDefinition id="_userItem" structureRef="de.thi.entities.User"/>
  <bpmn2:itemDefinition id="_16120B66-ABFC-4872-B26D-C385B7829C82_InMessageType"/>
  <bpmn2:itemDefinition id="_16120B66-ABFC-4872-B26D-C385B7829C82_OutMessageType"/>
  <bpmn2:itemDefinition id="__16120B66-ABFC-4872-B26D-C385B7829C82_ParamInputXItem" structureRef="de.thi.entities.User"/>
  <bpmn2:itemDefinition id="__16120B66-ABFC-4872-B26D-C385B7829C82_validOutputXItem" structureRef="Boolean"/>
  <bpmn2:itemDefinition id="_2C493524-8194-4E22-AF01-D01078E20400_InMessageType"/>
  <bpmn2:itemDefinition id="_2C493524-8194-4E22-AF01-D01078E20400_OutMessageType"/>
  <bpmn2:itemDefinition id="__2C493524-8194-4E22-AF01-D01078E20400_ParamInputXItem" structureRef="de.thi.entities.User"/>
  <bpmn2:message id="_16120B66-ABFC-4872-B26D-C385B7829C82_InMessage" itemRef="_16120B66-ABFC-4872-B26D-C385B7829C82_InMessageType"/>
  <bpmn2:message id="_16120B66-ABFC-4872-B26D-C385B7829C82_OutMessage" itemRef="_16120B66-ABFC-4872-B26D-C385B7829C82_OutMessageType"/>
  <bpmn2:interface id="_16120B66-ABFC-4872-B26D-C385B7829C82_ServiceInterface" name="de.thi.beans.ValidateRegistration" implementationRef="de.thi.beans.ValidateRegistration">
    <bpmn2:operation id="_16120B66-ABFC-4872-B26D-C385B7829C82_ServiceOperation" name="validateUserInput" implementationRef="validateUserInput">
      <bpmn2:inMessageRef>_16120B66-ABFC-4872-B26D-C385B7829C82_InMessage</bpmn2:inMessageRef>
      <bpmn2:outMessageRef>_16120B66-ABFC-4872-B26D-C385B7829C82_OutMessage</bpmn2:outMessageRef>
    </bpmn2:operation>
  </bpmn2:interface>
  <bpmn2:message id="_2C493524-8194-4E22-AF01-D01078E20400_InMessage" itemRef="_2C493524-8194-4E22-AF01-D01078E20400_InMessageType"/>
  <bpmn2:message id="_2C493524-8194-4E22-AF01-D01078E20400_OutMessage" itemRef="_2C493524-8194-4E22-AF01-D01078E20400_OutMessageType"/>
  <bpmn2:interface id="_2C493524-8194-4E22-AF01-D01078E20400_ServiceInterface" name="de.thi.beans.ValidateRegistration" implementationRef="de.thi.beans.ValidateRegistration">
    <bpmn2:operation id="_2C493524-8194-4E22-AF01-D01078E20400_ServiceOperation" name="registerUser" implementationRef="registerUser">
      <bpmn2:inMessageRef>_2C493524-8194-4E22-AF01-D01078E20400_InMessage</bpmn2:inMessageRef>
      <bpmn2:outMessageRef>_2C493524-8194-4E22-AF01-D01078E20400_OutMessage</bpmn2:outMessageRef>
    </bpmn2:operation>
  </bpmn2:interface>
  <bpmn2:collaboration id="_59769B42-01A7-46B0-8B71-60E2B9489B1A" name="Default Collaboration">
    <bpmn2:participant id="_3561CC2D-D7A3-4265-9C65-A8E142568012" name="Pool Participant" processRef="regprocess"/>
  </bpmn2:collaboration>
  <bpmn2:process id="regprocess" drools:packageName="com.example" drools:version="1.0" drools:adHoc="false" name="regprocess" isExecutable="true" processType="Public">
    <bpmn2:property id="valid" itemSubjectRef="_validItem" name="valid"/>
    <bpmn2:property id="user" itemSubjectRef="_userItem" name="user"/>
    <bpmn2:sequenceFlow id="_01D52438-ABAC-41C7-89D5-7B3D62B39E5B" sourceRef="_2C493524-8194-4E22-AF01-D01078E20400" targetRef="_D72C955F-6BDB-428B-8EF5-85330EF50BA8"/>
    <bpmn2:sequenceFlow id="_B27262DF-C846-47F4-B552-7394EEDB99C0" name="no" sourceRef="_CDA3FD72-6424-4E84-BA7D-61B34EF4B3A9" targetRef="_629C3D38-AFB1-4F93-A8F1-4DE10DE3F2CF">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[no]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" language="http://www.java.com/java"><![CDATA[return !valid;]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_56FE3D9B-6EBC-49A3-8AAB-C4A809F235CA" name="yes" sourceRef="_CDA3FD72-6424-4E84-BA7D-61B34EF4B3A9" targetRef="_2C493524-8194-4E22-AF01-D01078E20400">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[yes]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" language="http://www.java.com/java"><![CDATA[return valid;]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_7F3CE483-21F7-4CDB-80BA-39E87D472827" sourceRef="_16120B66-ABFC-4872-B26D-C385B7829C82" targetRef="_CDA3FD72-6424-4E84-BA7D-61B34EF4B3A9"/>
    <bpmn2:sequenceFlow id="_D418604D-2B6B-4315-BED2-A799D5F521F6" sourceRef="_547EFF53-C326-4452-A11E-B7D57DE5B42F" targetRef="_16120B66-ABFC-4872-B26D-C385B7829C82"/>
    <bpmn2:endEvent id="_629C3D38-AFB1-4F93-A8F1-4DE10DE3F2CF" name="user not registered">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[user not registered]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_B27262DF-C846-47F4-B552-7394EEDB99C0</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:endEvent id="_D72C955F-6BDB-428B-8EF5-85330EF50BA8" name="User succsessfully registered">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[User succsessfully registered]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_01D52438-ABAC-41C7-89D5-7B3D62B39E5B</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:serviceTask id="_2C493524-8194-4E22-AF01-D01078E20400" drools:serviceimplementation="Java" drools:serviceinterface="de.thi.beans.ValidateRegistration" drools:serviceoperation="registerUser" name="Register User" implementation="Java" operationRef="_2C493524-8194-4E22-AF01-D01078E20400_ServiceOperation">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Register User]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_56FE3D9B-6EBC-49A3-8AAB-C4A809F235CA</bpmn2:incoming>
      <bpmn2:outgoing>_01D52438-ABAC-41C7-89D5-7B3D62B39E5B</bpmn2:outgoing>
      <bpmn2:ioSpecification>
        <bpmn2:dataInput id="_2C493524-8194-4E22-AF01-D01078E20400_ParamInputX" drools:dtype="de.thi.entities.User" itemSubjectRef="__2C493524-8194-4E22-AF01-D01078E20400_ParamInputXItem" name="Param"/>
        <bpmn2:inputSet>
          <bpmn2:dataInputRefs>_2C493524-8194-4E22-AF01-D01078E20400_ParamInputX</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation>
        <bpmn2:targetRef>_2C493524-8194-4E22-AF01-D01078E20400_ParamInputX</bpmn2:targetRef>
        <bpmn2:assignment>
          <bpmn2:from xsi:type="bpmn2:tFormalExpression"><![CDATA[user]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression"><![CDATA[_2C493524-8194-4E22-AF01-D01078E20400_ParamInputX]]></bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
    </bpmn2:serviceTask>
    <bpmn2:exclusiveGateway id="_CDA3FD72-6424-4E84-BA7D-61B34EF4B3A9" name="valid?" gatewayDirection="Diverging">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[valid?]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_7F3CE483-21F7-4CDB-80BA-39E87D472827</bpmn2:incoming>
      <bpmn2:outgoing>_56FE3D9B-6EBC-49A3-8AAB-C4A809F235CA</bpmn2:outgoing>
      <bpmn2:outgoing>_B27262DF-C846-47F4-B552-7394EEDB99C0</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:serviceTask id="_16120B66-ABFC-4872-B26D-C385B7829C82" drools:serviceimplementation="Java" drools:serviceinterface="de.thi.beans.ValidateRegistration" drools:serviceoperation="validateUserInput" name="Check for valid input" implementation="Java" operationRef="_16120B66-ABFC-4872-B26D-C385B7829C82_ServiceOperation">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Check for valid input]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_D418604D-2B6B-4315-BED2-A799D5F521F6</bpmn2:incoming>
      <bpmn2:outgoing>_7F3CE483-21F7-4CDB-80BA-39E87D472827</bpmn2:outgoing>
      <bpmn2:ioSpecification>
        <bpmn2:dataInput id="_16120B66-ABFC-4872-B26D-C385B7829C82_ParamInputX" drools:dtype="de.thi.entities.User" itemSubjectRef="__16120B66-ABFC-4872-B26D-C385B7829C82_ParamInputXItem" name="Param"/>
        <bpmn2:dataOutput id="_16120B66-ABFC-4872-B26D-C385B7829C82_validOutputX" drools:dtype="Boolean" itemSubjectRef="__16120B66-ABFC-4872-B26D-C385B7829C82_validOutputXItem" name="valid"/>
        <bpmn2:inputSet>
          <bpmn2:dataInputRefs>_16120B66-ABFC-4872-B26D-C385B7829C82_ParamInputX</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet>
          <bpmn2:dataOutputRefs>_16120B66-ABFC-4872-B26D-C385B7829C82_validOutputX</bpmn2:dataOutputRefs>
        </bpmn2:outputSet>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation>
        <bpmn2:targetRef>_16120B66-ABFC-4872-B26D-C385B7829C82_ParamInputX</bpmn2:targetRef>
        <bpmn2:assignment>
          <bpmn2:from xsi:type="bpmn2:tFormalExpression"><![CDATA[user]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression"><![CDATA[_16120B66-ABFC-4872-B26D-C385B7829C82_ParamInputX]]></bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataOutputAssociation>
        <bpmn2:sourceRef>_16120B66-ABFC-4872-B26D-C385B7829C82_validOutputX</bpmn2:sourceRef>
        <bpmn2:assignment>
          <bpmn2:from xsi:type="bpmn2:tFormalExpression"><![CDATA[_16120B66-ABFC-4872-B26D-C385B7829C82_validOutputX]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression"><![CDATA[valid]]></bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataOutputAssociation>
    </bpmn2:serviceTask>
    <bpmn2:startEvent id="_547EFF53-C326-4452-A11E-B7D57DE5B42F" name="User wants to register">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[User wants to register]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:outgoing>_D418604D-2B6B-4315-BED2-A799D5F521F6</bpmn2:outgoing>
    </bpmn2:startEvent>
  </bpmn2:process>
  <bpmndi:BPMNDiagram>
    <bpmndi:BPMNPlane bpmnElement="regprocess">
      <bpmndi:BPMNShape id="shape__547EFF53-C326-4452-A11E-B7D57DE5B42F" bpmnElement="_547EFF53-C326-4452-A11E-B7D57DE5B42F">
        <dc:Bounds height="56" width="56" x="377" y="338"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__16120B66-ABFC-4872-B26D-C385B7829C82" bpmnElement="_16120B66-ABFC-4872-B26D-C385B7829C82">
        <dc:Bounds height="102" width="154" x="575" y="315"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__CDA3FD72-6424-4E84-BA7D-61B34EF4B3A9" bpmnElement="_CDA3FD72-6424-4E84-BA7D-61B34EF4B3A9">
        <dc:Bounds height="56" width="56" x="809" y="338"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__2C493524-8194-4E22-AF01-D01078E20400" bpmnElement="_2C493524-8194-4E22-AF01-D01078E20400">
        <dc:Bounds height="102" width="154" x="945" y="315"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__D72C955F-6BDB-428B-8EF5-85330EF50BA8" bpmnElement="_D72C955F-6BDB-428B-8EF5-85330EF50BA8">
        <dc:Bounds height="56" width="56" x="1179" y="338"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__629C3D38-AFB1-4F93-A8F1-4DE10DE3F2CF" bpmnElement="_629C3D38-AFB1-4F93-A8F1-4DE10DE3F2CF">
        <dc:Bounds height="56" width="56" x="1179" y="162"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge_shape__547EFF53-C326-4452-A11E-B7D57DE5B42F_to_shape__16120B66-ABFC-4872-B26D-C385B7829C82" bpmnElement="_D418604D-2B6B-4315-BED2-A799D5F521F6">
        <di:waypoint x="433" y="366"/>
        <di:waypoint x="575" y="366"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__16120B66-ABFC-4872-B26D-C385B7829C82_to_shape__CDA3FD72-6424-4E84-BA7D-61B34EF4B3A9" bpmnElement="_7F3CE483-21F7-4CDB-80BA-39E87D472827">
        <di:waypoint x="729" y="366"/>
        <di:waypoint x="809" y="366"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__CDA3FD72-6424-4E84-BA7D-61B34EF4B3A9_to_shape__2C493524-8194-4E22-AF01-D01078E20400" bpmnElement="_56FE3D9B-6EBC-49A3-8AAB-C4A809F235CA">
        <di:waypoint x="865" y="366"/>
        <di:waypoint x="898.1556596997773" y="366"/>
        <di:waypoint x="945" y="366"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__CDA3FD72-6424-4E84-BA7D-61B34EF4B3A9_to_shape__629C3D38-AFB1-4F93-A8F1-4DE10DE3F2CF" bpmnElement="_B27262DF-C846-47F4-B552-7394EEDB99C0">
        <di:waypoint x="837" y="338"/>
        <di:waypoint x="837" y="189"/>
        <di:waypoint x="1179" y="190"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__2C493524-8194-4E22-AF01-D01078E20400_to_shape__D72C955F-6BDB-428B-8EF5-85330EF50BA8" bpmnElement="_01D52438-ABAC-41C7-89D5-7B3D62B39E5B">
        <di:waypoint x="1022" y="366"/>
        <di:waypoint x="1207" y="366"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmn2:relationship type="BPSimData">
    <bpmn2:extensionElements>
      <bpsim:BPSimData>
        <bpsim:Scenario id="default" name="Simulationscenario">
          <bpsim:ScenarioParameters/>
          <bpsim:ElementParameters elementRef="_547EFF53-C326-4452-A11E-B7D57DE5B42F">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="_16120B66-ABFC-4872-B26D-C385B7829C82">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="_2C493524-8194-4E22-AF01-D01078E20400">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
        </bpsim:Scenario>
      </bpsim:BPSimData>
    </bpmn2:extensionElements>
    <bpmn2:source>_CC18cLuCEDuSNO79ekp_aA</bpmn2:source>
    <bpmn2:target>_CC18cLuCEDuSNO79ekp_aA</bpmn2:target>
  </bpmn2:relationship>
</bpmn2:definitions>